# 另一种创建线程的方式
- 历史的痕迹
    ```c
    class QThread : public Qt
    {
        // ...................
        // ...................

    protected:
        virtual void run() = 0;
        // ...................
        // ...................
    };
    ```
    注意 :
    面向对象程序设计实践的早期，工程中习惯于通过继承的方却T展系统的功能。

- 现代软件架构技术
    - 参考准则：
        - 尽量使用组合的方式实现系统功能
        - 代码中仅体现需求中的继承关系

- 思考
    通过继承的方式实现新的线程类有什么实际意义？

- 事实
    ![](_v_images_/.png)
    线程子类仅保护的 void run() 函数不同，接口部分完全相同！

- 结论
    - 通过继承的方式实现多线程没有任何实际意义
    - QThread 对应于操作系统中的线程
    - QThread 用于充当一个线程操作的集合
    - 应该提供灵活的方式指定线程入口函数
    - 尽量避免重写 void run()

- QThread类的改进
    ```c
    class QThread : public QObject
    {
        Q_OBJECT

        // ......

    protected:
        virtual void run()
        {
            (void)exec();
        }

        // ......
    };
    ```

- 问题
    如何灵活的指定一个线程对象的线程入口函数？

- 解决方案 - 信号与槽
    1. 在类中定义一个槽函数 void tmain() 作为线程入口函数
    2. 在类中定义一个 QThread 成员对象 m_thread
    3. 改变当前对象的线程依附性到 m_thread
    4. 连接 m_thread 的 start() 信号到 tmain()

# 编程实验 另一种创建线程的方式

# 小结
- 早期的Qt版本只能通过继承的方式创建线程
- 现代软件技术提倡以组合的方式代替继承
- QThread应该作为线程的操作集合而使用
- 可以通过信号与槽的机制灵活指定线程入口函数
